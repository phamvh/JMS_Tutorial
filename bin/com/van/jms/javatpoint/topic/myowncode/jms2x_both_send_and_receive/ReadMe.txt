This is is similar to the myowncode.jms1x or myowncde.jms2x
Here, for each publisher and subscriber, I add one more thread so that they can chat with each other.